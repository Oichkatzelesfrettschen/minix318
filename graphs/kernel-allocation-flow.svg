<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: KernelAllocationFlow Pages: 1 -->
<svg width="1124pt" height="291pt"
 viewBox="0.00 0.00 1123.87 291.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 287)">
<title>KernelAllocationFlow</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-287 1119.87,-287 1119.87,4 -4,4"/>
<text text-anchor="middle" x="557.94" y="-10" font-family="Times,serif" font-size="20.00">Simplified Kernel Allocation Flow (MINIX318)</text>
<g id="clust1" class="cluster">
<title>cluster_kernel_core</title>
<polygon fill="none" stroke="black" points="8,-38 8,-275 326.87,-275 326.87,-38 8,-38"/>
<text text-anchor="middle" x="167.44" y="-259.8" font-family="Times,serif" font-size="14.00">Kernel Core Systems</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_kernel_allocators</title>
<polygon fill="none" stroke="black" points="346.87,-65 346.87,-194 1107.87,-194 1107.87,-65 346.87,-65"/>
<text text-anchor="middle" x="727.37" y="-178.8" font-family="Times,serif" font-size="14.00">Kernel Allocators</text>
</g>
<!-- IPC System (ipc_kmsg_*) -->
<g id="node1" class="node">
<title>IPC System (ipc_kmsg_*)</title>
<ellipse fill="none" stroke="black" cx="167.44" cy="-226" rx="126.18" ry="18"/>
<text text-anchor="middle" x="167.44" y="-222.3" font-family="Times,serif" font-size="14.00">IPC System (ipc_kmsg_*)</text>
</g>
<!-- kalloc() (minix/kernel/kalloc.c) -->
<g id="node5" class="node">
<title>kalloc() (minix/kernel/kalloc.c)</title>
<polygon fill="lightblue" stroke="black" points="659.87,-163 429.87,-163 429.87,-127 659.87,-127 659.87,-163"/>
<text text-anchor="middle" x="544.87" y="-141.3" font-family="Times,serif" font-size="14.00">kalloc() (minix/kernel/kalloc.c)</text>
</g>
<!-- IPC System (ipc_kmsg_*)&#45;&gt;kalloc() (minix/kernel/kalloc.c) -->
<g id="edge1" class="edge">
<title>IPC System (ipc_kmsg_*)&#45;&gt;kalloc() (minix/kernel/kalloc.c)</title>
<path fill="none" stroke="black" d="M253.35,-212.74C277.2,-208.69 303.11,-203.97 326.87,-199 373.66,-189.21 425.64,-176.34 467,-165.63"/>
<polygon fill="black" stroke="black" points="467.93,-169 476.73,-163.09 466.17,-162.22 467.93,-169"/>
</g>
<!-- VM System (Page Tables, etc.) -->
<g id="node2" class="node">
<title>VM System (Page Tables, etc.)</title>
<ellipse fill="none" stroke="black" cx="167.44" cy="-172" rx="151.37" ry="18"/>
<text text-anchor="middle" x="167.44" y="-168.3" font-family="Times,serif" font-size="14.00">VM System (Page Tables, etc.)</text>
</g>
<!-- VM System (Page Tables, etc.)&#45;&gt;kalloc() (minix/kernel/kalloc.c) -->
<g id="edge2" class="edge">
<title>VM System (Page Tables, etc.)&#45;&gt;kalloc() (minix/kernel/kalloc.c)</title>
<path fill="none" stroke="black" d="M297.38,-162.73C336.91,-159.88 380.3,-156.76 419.52,-153.94"/>
<polygon fill="black" stroke="black" points="419.93,-157.42 429.66,-153.21 419.43,-150.44 419.93,-157.42"/>
</g>
<!-- Driver Subsystems -->
<g id="node3" class="node">
<title>Driver Subsystems</title>
<ellipse fill="none" stroke="black" cx="167.44" cy="-118" rx="99.38" ry="18"/>
<text text-anchor="middle" x="167.44" y="-114.3" font-family="Times,serif" font-size="14.00">Driver Subsystems</text>
</g>
<!-- Driver Subsystems&#45;&gt;kalloc() (minix/kernel/kalloc.c) -->
<g id="edge3" class="edge">
<title>Driver Subsystems&#45;&gt;kalloc() (minix/kernel/kalloc.c)</title>
<path fill="none" stroke="black" d="M260.28,-124.6C308.21,-128.05 367.53,-132.32 419.52,-136.06"/>
<polygon fill="black" stroke="black" points="419.58,-139.57 429.81,-136.8 420.09,-132.59 419.58,-139.57"/>
</g>
<!-- Default Pager (bootstrap) -->
<g id="node4" class="node">
<title>Default Pager (bootstrap)</title>
<ellipse fill="none" stroke="black" cx="167.44" cy="-64" rx="129.18" ry="18"/>
<text text-anchor="middle" x="167.44" y="-60.3" font-family="Times,serif" font-size="14.00">Default Pager (bootstrap)</text>
</g>
<!-- bootstrap_kalloc() (minix/kernel/bootstrap/kalloc.c) -->
<g id="node6" class="node">
<title>bootstrap_kalloc() (minix/kernel/bootstrap/kalloc.c)</title>
<polygon fill="lightgreen" stroke="black" points="734.87,-109 354.87,-109 354.87,-73 734.87,-73 734.87,-109"/>
<text text-anchor="middle" x="544.87" y="-87.3" font-family="Times,serif" font-size="14.00">bootstrap_kalloc() (minix/kernel/bootstrap/kalloc.c)</text>
</g>
<!-- Default Pager (bootstrap)&#45;&gt;bootstrap_kalloc() (minix/kernel/bootstrap/kalloc.c) -->
<g id="edge4" class="edge">
<title>Default Pager (bootstrap)&#45;&gt;bootstrap_kalloc() (minix/kernel/bootstrap/kalloc.c)</title>
<path fill="none" stroke="black" d="M282.61,-72.21C302.35,-73.63 323.38,-75.14 344.61,-76.67"/>
<polygon fill="black" stroke="black" points="344.48,-80.17 354.7,-77.4 344.98,-73.19 344.48,-80.17"/>
</g>
<!-- Zone Allocator (zalloc/kmem_) -->
<g id="node7" class="node">
<title>Zone Allocator (zalloc/kmem_)</title>
<path fill="none" stroke="black" d="M1038.37,-163C1038.37,-163 832.37,-163 832.37,-163 826.37,-163 820.37,-157 820.37,-151 820.37,-151 820.37,-139 820.37,-139 820.37,-133 826.37,-127 832.37,-127 832.37,-127 1038.37,-127 1038.37,-127 1044.37,-127 1050.37,-133 1050.37,-139 1050.37,-139 1050.37,-151 1050.37,-151 1050.37,-157 1044.37,-163 1038.37,-163"/>
<text text-anchor="middle" x="935.37" y="-141.3" font-family="Times,serif" font-size="14.00">Zone Allocator (zalloc/kmem_)</text>
</g>
<!-- kalloc() (minix/kernel/kalloc.c)&#45;&gt;Zone Allocator (zalloc/kmem_) -->
<g id="edge5" class="edge">
<title>kalloc() (minix/kernel/kalloc.c)&#45;&gt;Zone Allocator (zalloc/kmem_)</title>
<path fill="none" stroke="black" d="M660.07,-145C707.2,-145 761.95,-145 810.08,-145"/>
<polygon fill="black" stroke="black" points="810.25,-148.5 820.25,-145 810.25,-141.5 810.25,-148.5"/>
</g>
<!-- Page Allocator (vm_map/kmem_alloc_wired) -->
<g id="node8" class="node">
<title>Page Allocator (vm_map/kmem_alloc_wired)</title>
<path fill="none" stroke="black" d="M1087.87,-109C1087.87,-109 782.87,-109 782.87,-109 776.87,-109 770.87,-103 770.87,-97 770.87,-97 770.87,-85 770.87,-85 770.87,-79 776.87,-73 782.87,-73 782.87,-73 1087.87,-73 1087.87,-73 1093.87,-73 1099.87,-79 1099.87,-85 1099.87,-85 1099.87,-97 1099.87,-97 1099.87,-103 1093.87,-109 1087.87,-109"/>
<text text-anchor="middle" x="935.37" y="-87.3" font-family="Times,serif" font-size="14.00">Page Allocator (vm_map/kmem_alloc_wired)</text>
</g>
<!-- kalloc() (minix/kernel/kalloc.c)&#45;&gt;Page Allocator (vm_map/kmem_alloc_wired) -->
<g id="edge6" class="edge">
<title>kalloc() (minix/kernel/kalloc.c)&#45;&gt;Page Allocator (vm_map/kmem_alloc_wired)</title>
<path fill="none" stroke="black" d="M660.07,-129.13C702.22,-123.27 750.45,-116.56 794.61,-110.43"/>
<polygon fill="black" stroke="black" points="795.13,-113.89 804.55,-109.04 794.16,-106.96 795.13,-113.89"/>
</g>
<!-- bootstrap_kalloc() (minix/kernel/bootstrap/kalloc.c)&#45;&gt;Page Allocator (vm_map/kmem_alloc_wired) -->
<g id="edge7" class="edge">
<title>bootstrap_kalloc() (minix/kernel/bootstrap/kalloc.c)&#45;&gt;Page Allocator (vm_map/kmem_alloc_wired)</title>
<path fill="none" stroke="black" d="M735,-91C743.6,-91 752.21,-91 760.77,-91"/>
<polygon fill="black" stroke="black" points="760.79,-94.5 770.79,-91 760.79,-87.5 760.79,-94.5"/>
</g>
</g>
</svg>
